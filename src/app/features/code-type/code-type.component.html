<div class="code-type-container panel-container">
    <!-- Page Header -->
    <div class="page-header">
        <div>
            <h2 class="main-content-title tx-24 mg-b-5">Code Type Configuration</h2>
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="javascript:void(0)">Settings</a></li>
                <li class="breadcrumb-item active" aria-current="page">Code Type</li>
            </ol>
        </div>
    </div>

    <div class="content row row-sm">
        <div class="col-lg-12 col-md-12">
            <div class="card custom-card">
                <div class="card-body">
                    <app-alert *ngIf="successMessage" type="success" [message]="successMessage"></app-alert>
                    <app-alert *ngIf="errorMessage" type="error" [message]="errorMessage"></app-alert>

                    <form [formGroup]="codeTypeForm" (ngSubmit)="onSubmit()" class="needs-validation" novalidate>
                        <div class="row">
                            <!-- Code Type Code -->
                            <div class="col-md-6 mb-3">
                                <label for="codeTypeCode" class="form-label">Code Type Code <span
                                        class="text-danger">*</span></label>
                                <input id="codeTypeCode" type="text" class="form-control" formControlName="codeTypeCode"
                                    placeholder="e.g., HIS"
                                    [class.is-invalid]="codeTypeCode?.invalid && codeTypeCode?.touched" />
                                <div class="invalid-feedback" *ngIf="codeTypeCode?.invalid && codeTypeCode?.touched">
                                    @if (codeTypeCode?.errors?.['required']) {
                                    Code Type Code is required
                                    } @else if (codeTypeCode?.errors?.['minlength']) {
                                    Code must be at least 1 character
                                    }
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <!-- Name English -->
                            <div class="col-md-6 mb-3">
                                <label for="nameEn" class="form-label">Name (En) <span
                                        class="text-danger">*</span></label>
                                <input id="nameEn" type="text" class="form-control" formControlName="nameEn"
                                    placeholder="Enter English Name"
                                    [class.is-invalid]="nameEn?.invalid && nameEn?.touched" />
                                <div class="invalid-feedback" *ngIf="nameEn?.invalid && nameEn?.touched">
                                    English name is required
                                </div>
                            </div>

                            <!-- Name Arabic -->
                            <div class="col-md-6 mb-3">
                                <label for="nameAr" class="form-label">Name (Ar)</label>
                                <input id="nameAr" type="text" class="form-control" formControlName="nameAr"
                                    placeholder="Enter Arabic Name" />
                            </div>
                        </div>

                        <div class="row">
                            <!-- Description English -->
                            <div class="col-md-12 mb-3">
                                <label for="descriptionEn" class="form-label">Description (En)</label>
                                <textarea id="descriptionEn" class="form-control" formControlName="descriptionEn"
                                    placeholder="Enter English Description" rows="3"></textarea>
                            </div>

                            <!-- Description Arabic -->
                            <div class="col-md-12 mb-3">
                                <label for="descriptionAr" class="form-label">Description (Ar)</label>
                                <textarea id="descriptionAr" class="form-control" formControlName="descriptionAr"
                                    placeholder="Enter Arabic Description" dir="rtl" rows="3"></textarea>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="d-flex justify-content-end mt-4">
                            <button type="button" class="btn btn-secondary-cancel me-2"
                                (click)="onCancel()">Cancel</button>
                            <button type="submit" class="btn btn-primary-save" [disabled]="isLoading">
                                @if (isLoading) {
                                <span class="spinner-border spinner-border-sm me-1"></span>
                                Saving...
                                } @else {
                                Save
                                }
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>